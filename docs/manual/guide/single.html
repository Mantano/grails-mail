<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Grails Mail Plugin 1.0-SNAPSHOT - Reference Documentation</title>
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" title="Style" charset="utf-8"/>
        <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8" />
    </head>
    <body class="body">
        <div id="header">
            <div class="images"><br/><br/>
                <a href="http://grails.org" target="_blank"><img alt="The Grails Framework" src="../img/grails.png" border="0"/></a>
                <span style="right:30px; top:20px; position:absolute;">
                    <a href="../index.html" target="_top">Frames</a> | <a href="index.html" target="_top">No Frames</a><br/><br/>
                    <a href="http://springsource.com" target="_blank"><img alt="SpringSource - A Division of VMware" src="../img/springsource-logo.png" border="0"/></a>
                </span>
            </div>
            <div class="message">Send email from Grails applications</div>
            <h1>Grails Mail Plugin - Reference Documentation</h1>
            <p><strong>Authors:</strong> Grails Plugin Collective</p>
            <p><strong>Version:</strong> 1.0-SNAPSHOT</p>
            <em>Copies of this document may be made for your own use and for distribution to others, provided that you do not charge any fee for such copies and further provided that each copy contains this Copyright Notice, whether distributed in print or electronically.</em>
        </div>

        <div id="toc">
            <h2>Table of Contents</h2>
            <div class="tocItem" style="margin-left:0px"><a href="#1. Introduction">1. Introduction</a></div><div class="tocItem" style="margin-left:0px"><a href="#2. SMTP Server Configuration">2. SMTP Server Configuration</a></div>
        </div>
        <div id="content">
            <h1><a name="1. Introduction">1. Introduction</a></h1>The Grails mail plugin provides a convenient DSL for <em class="italic">sending</em> email. It supports plain text, html, attachments, inline resources and i18n among other features.<p class="paragraph"/>Mail can be sent using the <code>mailService</code> via the <code>sendMail</code> method. Here is an exampleâ€¦<p class="paragraph"/><div class="code"><pre>mailService.sendMail &#123;
   to <span class="java&#45;quote">"fred<code>gmail.com"</span>,<span class="java&#45;quote">"ginger</code>gmail.com"</span>
   from <span class="java&#45;quote">"john@gmail.com"</span>
   cc <span class="java&#45;quote">"marge<code>gmail.com"</span>, <span class="java&#45;quote">"ed</code>gmail.com"</span>
   bcc <span class="java&#45;quote">"joe@gmail.com"</span>
   subject <span class="java&#45;quote">"Hello John"</span>
   text '<span class="java&#45;keyword">this</span> is some text'
&#125;</pre></div><p class="paragraph"/>Here we are sending a plain text email with no attachments to the given addresses.<h1><a name="2. SMTP Server Configuration">2. SMTP Server Configuration</a></h1>By default the plugin assumes an unsecured mail server configured at localhost on port 25. However you can change this via the grails-app/Config.groovy file. For example here is how you would configure the default sender to send with a Gmail account:<p class="paragraph"/><div class="code"><pre>grails &#123;
   mail &#123;
     host = <span class="java&#45;quote">"smtp.gmail.com"</span>
     port = 465
     username = <span class="java&#45;quote">"youracount@gmail.com"</span>
     password = <span class="java&#45;quote">"yourpassword"</span>
     props = &#91;<span class="java&#45;quote">"mail.smtp.auth"</span>:<span class="java&#45;quote">"<span class="java&#45;keyword">true</span>"</span>,
              <span class="java&#45;quote">"mail.smtp.socketFactory.port"</span>:<span class="java&#45;quote">"465"</span>,
              <span class="java&#45;quote">"mail.smtp.socketFactory.class"</span>:<span class="java&#45;quote">"javax.net.ssl.SSLSocketFactory"</span>,
              <span class="java&#45;quote">"mail.smtp.socketFactory.fallback"</span>:<span class="java&#45;quote">"<span class="java&#45;keyword">false</span>"</span>&#93;
   &#125;
&#125;</pre></div><p class="paragraph"/>And the configuration for sending via a Hotmail/Live account:<p class="paragraph"/><div class="code"><pre>grails &#123;
   mail &#123;
     host = <span class="java&#45;quote">"smtp.live.com"</span>
     port = 587
     username = <span class="java&#45;quote">"youracount@live.com"</span>
     password = <span class="java&#45;quote">"yourpassword"</span>
     props = &#91;<span class="java&#45;quote">"mail.smtp.starttls.enable"</span>:<span class="java&#45;quote">"<span class="java&#45;keyword">true</span>"</span>, 
                  <span class="java&#45;quote">"mail.smtp.port"</span>:<span class="java&#45;quote">"587"</span>&#93;
   &#125;
&#125;</pre></div><p class="paragraph"/>If your mail session is provided via JNDI you can use the jndiName setting:<p class="paragraph"/><div class="code"><pre>grails.mail.jndiName = <span class="java&#45;quote">"myMailSession"</span></pre></div>
        </div>
        <div id="footer">
             Developed by the <a href='http://gpc.github.com'>Grails Plugin Collective</a>
        </div>
    </body>
</html>
